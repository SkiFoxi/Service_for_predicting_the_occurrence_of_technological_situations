<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система мониторинга водопотребления МКД</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>Система мониторинга водопотребления МКД</h1>
            <nav class="nav">
                <a href="#buildings" class="nav-link active">Объекты</a>
                <a href="#analysis" class="nav-link">Аналитика</a>
                <a href="#realtime" class="nav-link">Мониторинг</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <!-- Секция списка зданий -->
        <section id="buildings" class="section active">
            <div class="container">
                <h2>Перечень объектов недвижимости</h2>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Поиск по адресу...">
                </div>
                <div class="buildings-grid">
                    <div class="building-row header-row">
                        <div>Адрес объекта</div>
                        <div>Идентификаторы</div>
                        <div>Статус</div>
                        <div>Дата добавления</div>
                    </div>
                    <div id="buildingsList">
                        <div class="loading">Загрузка данных...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Секция аналитики -->
        <section id="analysis" class="section">
            <div class="container">
                <h2>Анализ потребления ресурсов</h2>
                <div class="analysis-controls">
                    <select id="buildingSelect">
                        <option value="">Выберите объект...</option>
                    </select>
                    <select id="periodSelect">
                        <option value="7">7 дней</option>
                        <option value="30" selected>30 дней</option>
                        <option value="90">90 дней</option>
                    </select>
                    <button id="analyzeBtn" class="btn-primary">Выполнить анализ</button>
                </div>
                <div id="analysisResults" class="analysis-results">
                    <div class="loading">Для отображения аналитики выберите объект</div>
                </div>
            </div>
        </section>

        <!-- Секция реального времени -->
        <section id="realtime" class="section">
            <div class="container">
                <h2>Мониторинг в реальном времени</h2>
                <div class="realtime-grid">
                    <div class="metric-card">
                        <h3>ХВС - Подача</h3>
                        <div class="value" id="coldWaterIn">0.00 м³/ч</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                    <div class="metric-card">
                        <h3>ХВС - Возврат</h3>
                        <div class="value" id="coldWaterOut">0.00 м³/ч</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                    <div class="metric-card">
                        <h3>ГВС - Канал 1</h3>
                        <div class="value" id="hotWaterCh1">0.00 м³/ч</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                    <div class="metric-card">
                        <h3>ГВС - Канал 2</h3>
                        <div class="value" id="hotWaterCh2">0.00 м³/ч</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                </div>
                <div class="charts-container">
                    <canvas id="realtimeChart" width="400" height="200"></canvas>
                </div>
            </div>
        </section>
    </main>

    <!-- Модальное окно деталей здания -->
    <div id="buildingModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Детальная информация по объекту</h2>
            <div id="modalContent"></div>
        </div>
    </div>

    <script src="/js/main.js"></script>
</body>
</html>