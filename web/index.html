<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–æ–¥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ú–ö–î</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–æ–¥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ú–ö–î</h1>
            <nav class="nav">
                <a href="#buildings" class="nav-link active">–û–±—ä–µ–∫—Ç—ã</a>
                <a href="#analysis" class="nav-link">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
                <a href="#realtime" class="nav-link">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <!-- –°–µ–∫—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∑–¥–∞–Ω–∏–π -->
        <section id="buildings" class="section active">
            <div class="container">
                <h2>–ü–µ—Ä–µ—á–µ–Ω—å –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h2>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É...">
                </div>
                <div class="buildings-grid">
                    <div class="building-row header-row">
                        <div>–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞</div>
                        <div>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã</div>
                        <div>–°—Ç–∞—Ç—É—Å</div>
                        <div>–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</div>
                    </div>
                    <div id="buildingsList">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
        <section id="analysis" class="section">
            <div class="container">
                <h2>–ê–Ω–∞–ª–∏–∑ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</h2>
                <div class="analysis-controls">
                    <select id="buildingSelect">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç...</option>
                    </select>
                    <select id="periodSelect">
                        <option value="7">7 –¥–Ω–µ–π</option>
                        <option value="30" selected>30 –¥–Ω–µ–π</option>
                        <option value="90">90 –¥–Ω–µ–π</option>
                    </select>
                    <button id="analyzeBtn" class="btn-primary">–í—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑</button>
                </div>
                <div id="analysisResults" class="analysis-results">
                    <div class="loading">–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç</div>
                </div>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ -->
        <section id="realtime" class="section">
            <!-- –í —Å–µ–∫—Ü–∏–∏ realtime –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫ -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div>
                    <strong>–°—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</strong> 
                    <span id="connectionStatus" style="margin-left: 10px;">üî¥ –ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                </div>
                <div>
                    <button id="startGeneratorBtn" class="btn-primary" style="background: #27ae60;">–ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</button>
                    <button id="stopGeneratorBtn" class="btn-primary" style="background: #e74c3c; margin-left: 10px;">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</button>
                </div>
            </div>
            <div id="temperatureData"></div>
            <div style="text-align: center; margin-top: 10px; font-size: 12px; color: #666;">
                –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: <span id="realtimeTimestamp">--:--:--</span>
            </div>
            <div class="container">
                <h2>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h2>
                <div class="realtime-grid">
                    <div class="metric-card">
                        <h3>–•–í–° - –ü–æ–¥–∞—á–∞</h3>
                        <div class="value" id="coldWaterIn">0.00 –º¬≥/—á</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                    <div class="metric-card">
                        <h3>–•–í–° - –í–æ–∑–≤—Ä–∞—Ç</h3>
                        <div class="value" id="coldWaterOut">0.00 –º¬≥/—á</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                    <div class="metric-card">
                        <h3>–ì–í–° - –ö–∞–Ω–∞–ª 1</h3>
                        <div class="value" id="hotWaterCh1">0.00 –º¬≥/—á</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                    <div class="metric-card">
                        <h3>–ì–í–° - –ö–∞–Ω–∞–ª 2</h3>
                        <div class="value" id="hotWaterCh2">0.00 –º¬≥/—á</div>
                        <div class="trend stable">0.0%</div>
                    </div>
                </div>
                <div class="charts-container">
                    <canvas id="realtimeChart" width="400" height="200"></canvas>
                </div>
            </div>
        </section>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –∑–¥–∞–Ω–∏—è -->
    <div id="buildingModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ–±—ä–µ–∫—Ç—É</h2>
            <div id="modalContent"></div>
        </div>
    </div>

    <script src="/js/main.js"></script>
</body>
</html>